(function(e){function t(t){for(var a,s,o=t[0],l=t[1],c=t[2],d=0,p=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&p.push(n[s][0]),n[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(p.length)p.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],a=!0,o=1;o<r.length;o++){var l=r[o];0!==n[l]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=r[0]))}return e}var a={},n={app:0},i=[];function s(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=a,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(r,a,function(t){return e[t]}.bind(null,a));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"3c29":function(e,t,r){},5046:function(e,t,r){"use strict";r("3c29")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),n=(r("d3b7"),r("bc3a")),i=r.n(n),s="/api";i.a.defaults.headers.common["Authorization"]=localStorage.getItem("userToken");var o={baseURL:s},l=i.a.create(o);a["a"].prototype.$http=l,l.interceptors.request.use((function(e){return e.headers.Authorization=localStorage.getItem("userToken"),e}),(function(e){return Promise.reject(e)})),l.interceptors.response.use((function(e){var t=e.data,r=localStorage.getItem("userToken");return r||(i.a.defaults.headers.common["Authorization"]=t),t&&"string"===typeof t&&localStorage.setItem("userToken",t),e}),(function(e){return Promise.reject(e)})),Plugin.install=function(e,t){e.axios=l,window.axios=l,Object.defineProperties(e.prototype,{axios:{get:function(){return l}},$axios:{get:function(){return l}}})},a["a"].use(Plugin);Plugin;var c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("router-view")},u=[],d=r("2877"),p={},m=Object(d["a"])(p,c,u,!1,null,null,null),v=m.exports,f=r("8c4f"),h=(r("c975"),r("96cf"),r("1da1")),g="/api",b=function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t,r,a){var n,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=localStorage.getItem("extensionId"),e.prev=1,e.next=4,i.a.post("".concat(g,"/user/check"),{headers:{Authorization:localStorage.getItem("userToken")}});case 4:s=localStorage.getItem("userToken"),chrome.runtime.sendMessage(n,{userToken:s},(function(e){chrome.runtime.lastError?a("/need-extension"):(console.log(e.result),-1!==location.href.indexOf("/need-extension")&&a("/p"))})),a(),e.next=16;break;case 9:e.prev=9,e.t0=e["catch"](1),o=e.t0.response.data.message,"invalid token"===o?alert("유효하지 않은 토큰입니다. 다시 로그인해주세요."):"jwt expired"===o?alert("로그인 시간이 만료되었습니다. 다시 로그인해주세요."):alert("오류가 발생하였습니다. 다시 로그인해주세요."),localStorage.removeItem("userToken"),chrome.runtime.sendMessage(n,{userToken:"logout"},(function(e){console.log(e.result)})),a("/");case 16:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,r,a){return e.apply(this,arguments)}}(),x=function(e,t,r){if(localStorage.getItem("userToken"))return r("/p");r()},_=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-main",[r("v-container",{attrs:{"fill-height":""}},[r("v-row",{attrs:{align:"center"}},[r("v-col",{attrs:{align:"center"}},[r("h1",{staticClass:"text-h1"},[e._v("404")]),r("p",{staticClass:"text-subtitle-1"},[e._v("요청하신 페이지가 없습니다.")]),r("v-btn",{attrs:{tile:"",color:"blue darken-4 white--text"},on:{click:function(t){e.$router.push({path:"/"}).catch((function(){}))}}},[e._v("홈 페이지로")])],1)],1)],1)],1),r("v-footer")],1)},w=[],k=r("6544"),y=r.n(k),C=r("7496"),j=r("8336"),N=r("62ad"),S=r("a523"),V=r("553a"),O=r("f6c4"),R=r("0fd9"),$={},L=Object(d["a"])($,_,w,!1,null,null,null),E=L.exports;y()(L,{VApp:C["a"],VBtn:j["a"],VCol:N["a"],VContainer:S["a"],VFooter:V["a"],VMain:O["a"],VRow:R["a"]});var D=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("landing-header"),r("v-main",[r("router-view")],1),r("v-footer")],1)},I=[],T=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app-bar",{attrs:{app:"",color:"blue darken-4",dark:"",height:"130"}},[r("v-toolbar-title",{staticClass:"text-h3 ml-12 pt-12 pb-8"},[r("span",{staticClass:"font-weight-medium",staticStyle:{cursor:"pointer"},on:{click:function(t){e.$router.push({name:"index"}).catch((function(){}))}}},[e._v("DoTS")])]),r("v-spacer"),r("v-toolbar-items",{staticClass:"mr-12 pt-12 pb-8"},[r("v-btn",{staticClass:"text-h5",attrs:{text:""},on:{click:function(t){e.$router.push({name:"about"}).catch((function(){}))}}},[e._v("About")]),r("v-btn",{staticClass:"text-h5",attrs:{text:""},on:{click:function(t){e.$router.push({name:"features"}).catch((function(){}))}}},[e._v("Features")]),r("v-btn",{staticClass:"text-h5",attrs:{text:""},on:{click:function(t){e.$router.push({name:"pricing"}).catch((function(){}))}}},[e._v("Pricing")]),r("v-btn",{staticClass:"text-h5",attrs:{text:""},on:{click:function(t){e.$router.push({name:"help"}).catch((function(){}))}}},[e._v("Help")]),r("v-btn",{staticClass:"text-h5 font-weight-bold blue--text text--darken-4 ml-4",attrs:{color:"white",dark:""},on:{click:function(t){return e.$router.push({name:"login"})}}},[e._v("로그인")])],1)],1)},P=[],U=r("40dc"),A=r("2fa4"),M=r("2a7f"),z={},q=Object(d["a"])(z,T,P,!1,null,null,null),F=q.exports;y()(q,{VAppBar:U["a"],VBtn:j["a"],VSpacer:A["a"],VToolbarItems:M["a"],VToolbarTitle:M["b"]});var B={components:{LandingHeader:F}},K=B,H=Object(d["a"])(K,D,I,!1,null,null,null),W=H.exports;y()(H,{VApp:C["a"],VFooter:V["a"],VMain:O["a"]});var Q=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"ma-12"},[r("div",{staticClass:"text-h2 font-weight-bold",staticStyle:{"line-height":"150%"}},[e._v(" 자료 수집, "),r("br"),e._v("이젠 전략적으로 하자 ")]),r("br"),r("div",{staticClass:"text-h4 font-weight-medium"},[e._v(" 팀 프로젝트를 위한 체계적이고 효율적인 협업 툴, DoTS ")]),r("div",{staticClass:"text-h4 font-weight-light grey--text"},[e._v(" Digitalization of Thinking Strategy ")])])},Z=[],J={},G=Object(d["a"])(J,Q,Z,!1,null,null,null),X=G.exports;y()(G,{VContainer:S["a"]});var Y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"ma-12"},[r("div",{staticClass:"text-h2 font-weight-medium"},[e._v("About Page")])])},ee=[],te={},re=Object(d["a"])(te,Y,ee,!1,null,null,null),ae=re.exports;y()(re,{VContainer:S["a"]});var ne=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"ma-12"},[r("div",{staticClass:"text-h2 font-weight-medium"},[e._v("Features Page")])])},ie=[],se={},oe=Object(d["a"])(se,ne,ie,!1,null,null,null),le=oe.exports;y()(oe,{VContainer:S["a"]});var ce=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"ma-12"},[r("div",{staticClass:"text-h2 font-weight-medium"},[e._v("Pricing Page")])])},ue=[],de={},pe=Object(d["a"])(de,ce,ue,!1,null,null,null),me=pe.exports;y()(pe,{VContainer:S["a"]});var ve=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"ma-12"},[r("div",{staticClass:"text-h2 font-weight-medium"},[e._v("Help Page")])])},fe=[],he={},ge=Object(d["a"])(he,ve,fe,!1,null,null,null),be=ge.exports;y()(ge,{VContainer:S["a"]});var xe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("auth-header"),r("v-main",[r("router-view")],1),r("v-footer")],1)},_e=[],we=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app-bar",{attrs:{app:"",color:"transparent",flat:"",height:"130"}},[r("v-toolbar-title",{staticClass:"text-h3 ml-12 pt-12 pb-8"},[r("span",{staticClass:"font-weight-medium",staticStyle:{cursor:"pointer"},on:{click:function(t){e.$router.push({name:"index"}).catch((function(){}))}}},[e._v("DoTS")]),r("span",{staticClass:"font-weight-light mx-6"},[e._v("|")]),r("span",{staticClass:"font-weight-light",staticStyle:{"font-size":"2.5rem"}},[e._v(e._s("login"===this.$route.name?"로그인":"회원가입"))])]),r("v-spacer"),r("v-toolbar-items",{staticClass:"mr-12 pt-12 pb-8"},["login"===this.$route.name?r("v-btn",{staticClass:"text-h5 font-weight-bold blue darken-4",attrs:{dark:""},on:{click:function(t){e.$router.push({name:"register"}).catch((function(){}))}}},[e._v("회원가입")]):r("v-btn",{staticClass:"text-h5 font-weight-bold blue darken-4",attrs:{dark:""},on:{click:function(t){return e.$router.push({name:"login"})}}},[e._v("로그인")])],1)],1)},ke=[],ye={},Ce=Object(d["a"])(ye,we,ke,!1,null,null,null),je=Ce.exports;y()(Ce,{VAppBar:U["a"],VBtn:j["a"],VSpacer:A["a"],VToolbarItems:M["a"],VToolbarTitle:M["b"]});var Ne={components:{AuthHeader:je}},Se=Ne,Ve=Object(d["a"])(Se,xe,_e,!1,null,null,null),Oe=Ve.exports;y()(Ve,{VApp:C["a"],VFooter:V["a"],VMain:O["a"]});var Re=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"pa-0",attrs:{"fill-height":"",fluid:""}},[r("v-layout",{attrs:{"justify-center":"","align-center":""}},[r("v-flex",{attrs:{xl3:"",lg3:"",sm5:""}},[r("v-form",[r("v-text-field",{attrs:{label:"이메일",required:"","single-line":"",solo:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),r("v-text-field",{attrs:{label:"비밀번호",required:"","single-line":"",solo:"","append-icon":e.visibility?"mdi-eye":"mdi-eye-off",type:e.visibility?"text":"password"},on:{"click:append":function(t){e.visibility=!e.visibility}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),r("div",{staticClass:"text-center"},[r("v-btn",{attrs:{color:"success",tile:"",text:"",disabled:!e.email||!e.password},on:{click:e.onSubmit,keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}}},[e._v("로그인")])],1)],1)],1)],1)],1)},$e=[],Le={data:function(){return{email:"",password:"",visibility:!1}},methods:{onSubmit:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(localStorage.getItem("extensionId")){t.next=3;break}return alert("크롬 확장프로그램이 설치되어 있지 않습니다. 설치 후 다시 로그인해주세요."),t.abrupt("return");case 3:return t.prev=3,t.next=6,e.$http.post("user/login",{email:e.email,password:e.password});case 6:r=t.sent,r.data.error?(e.email="",e.password="",alert(r.data.error)):(localStorage.setItem("userToken",r.data),e.$router.push({name:"user"})),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](3),alert(t.t0.response.data.message);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})))()}}},Ee=Le,De=r("0e8f"),Ie=r("4bd4"),Te=r("a722"),Pe=r("8654"),Ue=Object(d["a"])(Ee,Re,$e,!1,null,null,null),Ae=Ue.exports;y()(Ue,{VBtn:j["a"],VContainer:S["a"],VFlex:De["a"],VForm:Ie["a"],VLayout:Te["a"],VTextField:Pe["a"]});var Me=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"pa-0",attrs:{"fill-height":"",fluid:""}},[r("v-layout",{attrs:{"justify-center":"","align-center":""}},[r("v-flex",{attrs:{xl3:"",lg3:"",sm5:""}},[r("validation-observer",{scopedSlots:e._u([{key:"default",fn:function(t){var a=t.handleSubmit,n=t.reset;return[r("v-form",{on:{submit:function(t){return t.preventDefault(),a(e.onSubmit)},reset:function(e){return e.preventDefault(),n(e)}}},[r("validation-provider",{attrs:{name:"email",rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("v-text-field",{attrs:{label:"이메일","error-messages":a[0],required:"","single-line":"",solo:""},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})]}}],null,!0)}),r("validation-provider",{attrs:{name:"password",rules:{required:!0,min:{length:6}},vid:"password"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("v-text-field",{attrs:{label:"비밀번호","error-messages":a[0],required:"","single-line":"",solo:"","append-icon":e.visibility1?"mdi-eye":"mdi-eye-off",type:e.visibility1?"text":"password"},on:{"click:append":function(t){e.visibility1=!e.visibility1}},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})]}}],null,!0)}),r("validation-provider",{attrs:{name:"passwordConfirm",rules:{required:!0,confirmed:{target:"password"}}},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("v-text-field",{attrs:{label:"비밀번호 확인","error-messages":a[0],required:"","single-line":"",solo:"","append-icon":e.visibility2?"mdi-eye":"mdi-eye-off",type:e.visibility2?"text":"password"},on:{"click:append":function(t){e.visibility2=!e.visibility2}},model:{value:e.form.passwordConfirm,callback:function(t){e.$set(e.form,"passwordConfirm",t)},expression:"form.passwordConfirm"}})]}}],null,!0)}),r("validation-provider",{attrs:{name:"lastName",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("v-text-field",{attrs:{label:"성","error-messages":a[0],required:"","single-line":"",solo:""},model:{value:e.form.lastName,callback:function(t){e.$set(e.form,"lastName",t)},expression:"form.lastName"}})]}}],null,!0)}),r("validation-provider",{attrs:{name:"firstName",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("v-text-field",{attrs:{label:"이름","error-messages":a[0],required:"","single-line":"",solo:""},model:{value:e.form.firstName,callback:function(t){e.$set(e.form,"firstName",t)},expression:"form.firstName"}})]}}],null,!0)}),r("v-layout",{staticClass:"text-center"},[r("v-btn",{attrs:{type:"reset",color:"info",tile:""},on:{click:e.onClear}},[e._v("초기화")]),r("v-spacer"),r("v-btn",{attrs:{type:"submit",color:"success",tile:""}},[e._v("회원가입")])],1)],1)]}}])})],1)],1)],1)},ze=[],qe=r("7bb1"),Fe=r("4c93"),Be=r("fd9b"),Ke=r.n(Be),He={components:{ValidationObserver:qe["a"],ValidationProvider:qe["b"]},data:function(){return{form:{email:"",password:"",passwordConfirm:"",firstName:"",lastName:"",color:""},message:{required:"{_field_} 항목을 입력해주세요.",email:"올바른 이메일 형식으로 입력해주세요.",min:"{_field_} 항목은 최소 {length}글자 이상 입력해주세요.",confirmed:"비밀번호가 일치하지 않습니다."},visibility1:!1,visibility2:!1}},mounted:function(){Object(qe["d"])({ko:{names:{email:"이메일",password:"비밀번호",passwordConfirm:"비밀번호 확인",firstName:"이름",lastName:"성"},messages:{required:this.message.required,email:this.message.email,min:this.message.min,confirmed:this.message.confirmed}}}),Object(qe["d"])("ko"),Object(qe["c"])("required",Fe["e"]),Object(qe["c"])("email",Fe["b"]),Object(qe["c"])("min",Fe["d"]),Object(qe["c"])("confirmed",Fe["a"])},methods:{onSubmit:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getPersonalColor(),t.prev=1,t.next=4,e.$http.post("/user",e.form);case 4:if(r=t.sent,r){t.next=7;break}throw new Error("서버에서 요청을 거부했습니다.");case 7:alert("회원가입이 완료되었습니다. 로그인 화면으로 이동합니다."),e.$router.push({name:"login"}),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](1),alert(t.t0.response.data.message);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})))()},onClear:function(){this.form.email="",this.form.password="",this.form.passwordConfirm="",this.form.firstName="",this.form.lastName="",this.visibility1=!1,this.visibility2=!1},getPersonalColor:function(){this.form.color=Ke()({luminosity:"bright"})}}},We=He,Qe=Object(d["a"])(We,Me,ze,!1,null,null,null),Ze=Qe.exports;y()(Qe,{VBtn:j["a"],VContainer:S["a"],VFlex:De["a"],VForm:Ie["a"],VLayout:Te["a"],VSpacer:A["a"],VTextField:Pe["a"]});var Je=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("user-header",{attrs:{user:e.user,items:e.items}}),r("v-main",[r("br"),r("v-layout",{attrs:{"justify-center":""}},[r("v-flex",{attrs:{xl10:"",lg10:"",sm10:""}},[r("router-view",{attrs:{user:e.user}})],1)],1)],1),r("v-footer")],1)},Ge=[],Xe=r("1232"),Ye=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app-bar",{attrs:{app:"",color:"blue darken-4",dark:""}},[r("v-toolbar-title",{staticClass:"text-h5"},[r("span",{staticClass:"font-weight-medium"},[e._v("DoTS")])]),r("v-spacer"),r("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-avatar",e._g({directives:[{name:"ripple",rawName:"v-ripple"}],staticStyle:{cursor:"pointer"},attrs:{color:e.user.color}},a),[r("span",[e._v(e._s(e.user.lastName.charAt(0)))])])]}}])},[r("v-list",e._l(e.items,(function(t,a){return r("v-list-item",{key:a,attrs:{disabled:t.disabled},on:{click:t.action}},[r("v-list-item-title",[e._v(e._s(t.title))])],1)})),1)],1)],1)},et=[],tt={props:{user:{type:Object},items:{type:Array}}},rt=tt,at=r("8212"),nt=r("8860"),it=r("da13"),st=r("5d23"),ot=r("e449"),lt=r("269a"),ct=r.n(lt),ut=r("5607"),dt=Object(d["a"])(rt,Ye,et,!1,null,null,null),pt=dt.exports;y()(dt,{VAppBar:U["a"],VAvatar:at["a"],VList:nt["a"],VListItem:it["a"],VListItemTitle:st["c"],VMenu:ot["a"],VSpacer:A["a"],VToolbarTitle:M["b"]}),ct()(dt,{Ripple:ut["a"]});var mt={components:{UserHeader:pt},data:function(){return{user:{firstName:"",lastName:"",email:"",color:""},items:[{title:"계정 관리",action:"",disabled:!0},{title:"로그아웃",action:this.signout,disabled:!1}]}},created:function(){var e=localStorage.getItem("userToken");e||this.signout();var t=Object(Xe["a"])(e);this.user.firstName=t.first_name,this.user.lastName=t.last_name,this.user.email=t.email,this.user.color=t.color},methods:{signout:function(){this.$store.commit("deleteToken"),this.$router.push({name:"index"})}}},vt=mt,ft=Object(d["a"])(vt,Je,Ge,!1,null,null,null),ht=ft.exports;y()(ft,{VApp:C["a"],VFlex:De["a"],VFooter:V["a"],VLayout:Te["a"],VMain:O["a"]});var gt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"content-index",attrs:{"grid-list-xl":"","grid-list-lg":""}},[r("div",[r("span",{staticClass:"text-h4 font-weight-bold"},[e._v(e._s(e.user.firstName))]),r("span",{staticClass:"text-h4 font-weight-light"},[e._v("님의 프로젝트")])]),r("br"),r("div",[r("v-layout",{attrs:{wrap:""}},[e._l(e.projects,(function(t){return r("div",{key:t.project_id,staticClass:"ma-0"},[e._l(t.members,(function(a){return[a.verified&&a.email===e.user.email?r("v-hover",{key:a.email,scopedSlots:e._u([{key:"default",fn:function(a){var n=a.hover;return[r("v-card",{staticClass:"ma-2",attrs:{width:"350","min-height":"300",tile:"",elevation:n?12:2}},[r("v-img",{staticClass:"white--text",attrs:{height:"200px",src:"https://cdn.vuetifyjs.com/images/cards/docks.jpg"}},[r("v-card-title",{staticClass:"align-end fill-height"},[e._v(e._s(t.project_name))])],1),r("v-card-text",[r("span",{staticClass:"text-subtitle-1"},[e._v(e._s(t.team_name))]),r("br"),r("span",{staticClass:"text--primary"},[r("span",[e._v(e._s(t.description))])])]),r("v-card-actions",[r("v-btn",{attrs:{text:"",tile:"",color:"blue darken-4"},on:{click:function(r){return e.$router.push({path:"/project/"+t.project_id})}}},[e._v("프로젝트 시작")]),r("v-spacer"),e.user.email===t.founder_email?r("v-btn",{attrs:{text:"",tile:"",color:"red"},on:{click:function(r){return r.stopPropagation(),e.clickedProject(t.project_name)}}},[e._v("삭제")]):e._e()],1)],1)]}}],null,!0)}):e._e()]}))],2)})),r("v-hover",{scopedSlots:e._u([{key:"default",fn:function(t){var a=t.hover;return[r("v-card",{directives:[{name:"ripple",rawName:"v-ripple",value:{center:!0},expression:"{ center: true }"}],staticClass:"ma-2 d-flex text-center align-center",staticStyle:{cursor:"pointer"},attrs:{width:"350","min-height":"300",tile:"",elevation:a?12:2},on:{click:e.createProject}},[r("v-card-text",[r("v-icon",{attrs:{color:"blue darken-4","x-large":""}},[e._v("mdi-plus")]),r("br"),r("br"),r("span",{staticClass:"text-h5"},[e._v("새 프로젝트 생성")])],1)],1)]}}])})],2)],1),r("v-dialog",{attrs:{persistent:"","max-width":"600"},model:{value:e.removeDialog,callback:function(t){e.removeDialog=t},expression:"removeDialog"}},[r("v-card",{attrs:{tile:""}},[r("v-card-title",{staticClass:"text-h5"},[e._v("해당 프로젝트를 삭제하시겠습니까?")]),r("v-card-text",{staticClass:"text-h5 font-weight-bold blue--text text--darken-4",attrs:{color:"blue darken-4"}},[e._v(e._s(e.currentProject))]),r("v-card-text",[e._v(" 한 번 삭제한 프로젝트는 영원히 복구할 수 없습니다. "),r("br"),e._v("그래도 삭제를 원하신다면, 아래 입력란에 프로젝트의 이름을 입력해주세요. ")]),r("v-text-field",{staticClass:"mx-4",attrs:{"single-line":"","solo-inverted":""},model:{value:e.confirmStr,callback:function(t){e.confirmStr=t},expression:"confirmStr"}}),r("v-card-actions",[r("div",{staticClass:"flex-grow-1"}),r("v-btn",{attrs:{color:"green darken-1",text:"",tile:""},on:{click:e.cancelRemove}},[e._v("취소")]),r("v-btn",{attrs:{color:"red darken-1",text:"",tile:""},on:{click:e.confirmRemove}},[e._v("확인")])],1)],1)],1)],1)},bt=[],xt=(r("99af"),r("7db0"),r("b85c")),_t={props:{user:{type:Object}},data:function(){return{removeDialog:!1,currentProject:"",confirmStr:"",projects:[]}},created:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.get("/project",{params:{email:e.user.email}});case 3:r=t.sent,e.projects=r.data,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},methods:{createProject:function(){var e=this;setTimeout((function(){e.$router.push({name:"create-project"})}),100)},clickedProject:function(e){this.removeDialog=!0,this.currentProject=e},confirmRemove:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var r,a,n,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.currentProject!==e.confirmStr){t.next=31;break}return t.prev=1,t.next=4,e.$http.delete("/data/".concat(e.currentProject,"_after_data"));case 4:r=e.projects.find((function(t){return t.project_name===e.currentProject})),a=r.members,n=Object(xt["a"])(a),t.prev=6,n.s();case 8:if((i=n.n()).done){t.next=14;break}return s=i.value,t.next=12,e.$http.delete("/data/".concat(e.currentProject,"_").concat(s.email));case 12:t.next=8;break;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](6),n.e(t.t0);case 19:return t.prev=19,n.f(),t.finish(19);case 22:return t.next=24,e.$http.delete("/project/".concat(e.currentProject));case 24:e.cancelRemove(),history.go(0),t.next=31;break;case 28:t.prev=28,t.t1=t["catch"](1),console.error(t.t1);case 31:case"end":return t.stop()}}),t,null,[[1,28],[6,16,19,22]])})))()},cancelRemove:function(){this.removeDialog=!1,this.confirmStr="",this.currentProject=""}}},wt=_t,kt=r("b0af"),yt=r("99d9"),Ct=r("169a"),jt=r("ce87"),Nt=r("132d"),St=r("adda"),Vt=Object(d["a"])(wt,gt,bt,!1,null,null,null),Ot=Vt.exports;y()(Vt,{VBtn:j["a"],VCard:kt["a"],VCardActions:yt["a"],VCardText:yt["b"],VCardTitle:yt["c"],VContainer:S["a"],VDialog:Ct["a"],VHover:jt["a"],VIcon:Nt["a"],VImg:St["a"],VLayout:Te["a"],VSpacer:A["a"],VTextField:Pe["a"]}),ct()(Vt,{Ripple:ut["a"]});var Rt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"content-index text-center mt-12"},[r("div",{staticClass:"text-h4"},[r("span",{staticClass:"font-weight-light"},[e._v("원활한 프로젝트 진행을 위해서는 ")]),r("span",{staticClass:"font-weight-bold"},[e._v("확장 프로그램")]),r("span",{staticClass:"font-weight-light"},[e._v("의 설치가 필요합니다.")]),r("br"),r("br"),r("span",{staticClass:"font-weight-light"},[e._v("확장 프로그램을 설치하시고 다시 로그인해주세요.")]),r("br"),r("br"),r("v-btn",{staticClass:"text-h5",attrs:{color:"blue darken-4",tile:"",large:"",dark:""},on:{click:e.download}},[e._v("다운로드")])],1)])},$t=[],Lt={methods:{download:function(){window.open("https://github.com/sckroll/DoTS-Chrome")}}},Et=Lt,Dt=Object(d["a"])(Et,Rt,$t,!1,null,null,null),It=Dt.exports;y()(Dt,{VBtn:j["a"],VContainer:S["a"]});var Tt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"content-index",attrs:{"grid-list-xl":"","grid-list-lg":""}},[r("div",[r("span",{staticClass:"text-h4 font-weight-bold"},[e._v("새 프로젝트 생성")]),r("br"),r("span",{staticClass:"text-h4 font-weight-light"},[e._v("새 프로젝트의 정보를 입력하세요.")])]),r("br"),r("v-layout",[r("v-flex",{attrs:{xl6:"",lg9:"",sm12:""}},[r("validation-observer",{scopedSlots:e._u([{key:"default",fn:function(t){var a=t.handleSubmit,n=t.reset;return[r("v-form",{on:{submit:function(t){return t.preventDefault(),a(e.onSubmit)},reset:function(e){return e.preventDefault(),n(e)}}},[r("div",{staticClass:"text-h5"},[e._v("프로젝트 이름")]),r("div",{staticClass:"text-h6 mb-2"},[e._v("새 프로젝트를 대표하는 이름입니다.")]),r("validation-provider",{attrs:{name:"projectName",rules:{required:!0,min:{length:4}}},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("v-text-field",{staticClass:"mb-2",attrs:{"error-messages":a[0],required:"","single-line":"",solo:""},model:{value:e.form.projectName,callback:function(t){e.$set(e.form,"projectName",t)},expression:"form.projectName"}})]}}],null,!0)}),r("div",{staticClass:"text-h5"},[e._v("프로젝트 설명")]),r("div",{staticClass:"text-h6 mb-2"},[e._v(" 프로젝트에 대한 설명을 한 문장으로 요약해주세요. ")]),r("validation-provider",{attrs:{name:"description",rules:{max:{length:30}}},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("v-text-field",{staticClass:"mb-2",attrs:{"error-messages":a[0],counter:"30",maxlength:"30",solo:""},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})]}}],null,!0)}),r("div",{staticClass:"text-h5"},[e._v("프로젝트 주제")]),r("div",{staticClass:"text-h6 mb-2"},[e._v(" 프로젝트의 핵심 주제로, 루트 노드(레벨 0)의 이름이기도 합니다. ")]),r("validation-provider",{attrs:{name:"topic",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("v-text-field",{staticClass:"mb-2",attrs:{"error-messages":a[0],required:"","single-line":"",solo:""},model:{value:e.form.topic,callback:function(t){e.$set(e.form,"topic",t)},expression:"form.topic"}})]}}],null,!0)}),r("div",{staticClass:"text-h5"},[e._v("팀 이름")]),r("div",{staticClass:"text-h6 mb-2"},[e._v(" 프로젝트를 수행하는 팀의 이름입니다. 팀원은 나중에 추가할 수 있습니다. ")]),r("validation-provider",{attrs:{name:"teamName",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("v-text-field",{staticClass:"mb-2",attrs:{"error-messages":a[0],required:"","single-line":"",solo:""},model:{value:e.form.teamName,callback:function(t){e.$set(e.form,"teamName",t)},expression:"form.teamName"}})]}}],null,!0)}),r("v-layout",{staticClass:"text-center"},[r("v-btn",{attrs:{type:"reset",color:"info",tile:""},on:{click:e.onClear}},[e._v("초기화")]),r("v-spacer"),r("v-btn",{attrs:{type:"submit",color:"success",tile:""}},[e._v("프로젝트 생성")])],1)],1)]}}])})],1)],1)],1)},Pt=[],Ut=(r("a4d3"),r("e01a"),{components:{ValidationObserver:qe["a"],ValidationProvider:qe["b"]},props:{user:{type:Object}},data:function(){return{form:{projectName:"",description:"",topic:"",teamName:"",user:this.user},message:{required:"{_field_} 항목을 입력해주세요.",min:"{_field_} 항목은 최소 {length}글자 이상 입력해주세요.",max:"{_field_} 항목은 최대 {length}글자까지 입력해주세요."}}},mounted:function(){Object(qe["d"])({ko:{names:{projectName:"프로젝트 이름",description:"프로젝트 설명",topic:"프로젝트 주제",teamName:"팀 이름"},messages:{required:this.message.required,min:this.message.min,max:this.message.max}}}),Object(qe["d"])("ko"),Object(qe["c"])("required",Fe["e"]),Object(qe["c"])("min",Fe["d"]),Object(qe["c"])("max",Fe["c"])},methods:{onSubmit:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.post("/project",e.form);case 3:if(r=t.sent,r){t.next=6;break}throw new Error("서버에서 요청을 거부했습니다.");case 6:alert("프로젝트 생성이 완료되었습니다."),e.$router.push({name:"user"}),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),alert(t.t0.response.data.message);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},onClear:function(){this.form.projectName="",this.form.description="",this.form.topic="",this.form.teamName=""}}}),At=Ut,Mt=Object(d["a"])(At,Tt,Pt,!1,null,null,null),zt=Mt.exports;y()(Mt,{VBtn:j["a"],VContainer:S["a"],VFlex:De["a"],VForm:Ie["a"],VLayout:Te["a"],VSpacer:A["a"],VTextField:Pe["a"]});var qt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("project-nav-drawer",{attrs:{drawer:e.drawer,project:e.project},on:{update:e.closeDrawer}}),r("project-header",{attrs:{drawer:e.drawer,project:e.project,currentMember:e.currentMember},on:{update:e.openDrawer}}),r("v-main",[e.isLoaded?r("router-view",{attrs:{project:e.project}}):e._e()],1),r("v-footer",{attrs:{app:"",fixed:""}},[r("v-spacer"),e._v(" © "+e._s((new Date).getFullYear())+" DoTS. All rights reserved. ")],1)],1)},Ft=[],Bt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app-bar",{attrs:{app:"",color:"blue darken-4",dark:""}},[r("v-app-bar-nav-icon",{on:{click:function(t){return t.stopPropagation(),e.openDrawer(t)}}}),r("v-toolbar-title",{staticClass:"text-h5"},[r("span",{staticClass:"font-weight-medium"},[e._v(e._s(e.project.project_name))]),r("span",{staticClass:"font-weight-light"},[e._v(" by "+e._s(e.project.team_name))]),""!==e.currentMember?r("span",[r("span",{staticClass:"font-weight-light mx-6"},[e._v("->")]),r("span",{staticClass:"font-weight-medium"},[e._v(e._s(e.currentMember))]),r("span",{staticClass:"font-weight-light"},[e._v(" 님의 조사 기록")])]):e._e()])],1)},Kt=[],Ht={props:{project:{type:Object},drawer:{type:Boolean},currentMember:{type:String}},methods:{openDrawer:function(){this.$emit("update")}}},Wt=Ht,Qt=r("5bc1"),Zt=Object(d["a"])(Wt,Bt,Kt,!1,null,null,null),Jt=Zt.exports;y()(Zt,{VAppBar:U["a"],VAppBarNavIcon:Qt["a"],VToolbarTitle:M["b"]});var Gt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-navigation-drawer",{attrs:{temporary:"",app:""},on:{input:e.updateDrawerState},scopedSlots:e._u([{key:"prepend",fn:function(){return[r("v-list",{staticClass:"pt-2"},[r("v-list-item",[r("v-list-item-content",[r("v-list-item-title",{staticClass:"text-h5"},[e._v(e._s(e.project.team_name))])],1)],1),e._l(e.project.members,(function(t){return[t.verified?r("v-list-item",{key:t.email,attrs:{"two-line":""}},[r("v-list-item-avatar",[r("v-avatar",{attrs:{color:t.color}},[r("span",{staticClass:"white--text"},[e._v(e._s(t.last_name.charAt(0)))])])],1),r("v-list-item-content",[r("v-list-item-title",[e._v(e._s(t.first_name)+" "+e._s(t.last_name))]),r("v-list-item-subtitle",[e._v(e._s(t.position))])],1)],1):e._e()]})),r("v-list-item",{on:{click:function(t){e.inviteDialog=!0}}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-plus")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("팀원 초대")])],1)],1)],2),r("v-divider")]},proxy:!0},{key:"append",fn:function(){return[r("v-divider"),r("v-list",{staticClass:"pb-2"},[r("v-list-item",{on:{click:function(t){return e.$router.push({name:"user"})}}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-home")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("홈으로")])],1)],1),r("v-list-item",[r("v-list-item-icon",[r("v-icon",[e._v("mdi-settings")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("설정")])],1)],1),r("v-list-item",[r("v-list-item-icon",[r("v-icon",[e._v("mdi-help-circle")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("도움말")])],1)],1),r("v-list-item",[r("v-list-item-icon",[r("v-icon",[e._v("mdi-information")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("정보")])],1)],1)],1)]},proxy:!0}]),model:{value:e.navDrawer,callback:function(t){e.navDrawer=t},expression:"navDrawer"}},[r("v-list"),r("v-dialog",{attrs:{persistent:"","max-width":"600"},model:{value:e.inviteDialog,callback:function(t){e.inviteDialog=t},expression:"inviteDialog"}},[r("v-card",{attrs:{tile:""}},[r("v-card-title",{staticClass:"text-h5"},[e._v("팀원 추가")]),r("v-card-text",[e._v(" 새로운 팀원을 추가합니다. 추가하고자 하는 팀원의 이메일을 입력해주세요. "),r("br"),e._v("해당 회원의 이메일로 초대 메일을 발송합니다. "),r("br"),e._v("단, DoTS에 가입된 회원만 초대할 수 있습니다. ")]),r("v-text-field",{staticClass:"mx-4",attrs:{"single-line":"","solo-inverted":""},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.findUser(t)}},model:{value:e.memberEmail,callback:function(t){e.memberEmail=t},expression:"memberEmail"}}),r("v-card-actions",[r("div",{staticClass:"flex-grow-1"}),r("v-btn",{attrs:{color:"green darken-1",text:"",tile:""},on:{click:function(t){return t.stopPropagation(),e.cancel(t)}}},[e._v("취소")]),r("v-btn",{attrs:{color:"blue darken-4",text:"",tile:""},on:{click:function(t){return t.stopPropagation(),e.findUser(t)}}},[e._v("이메일 전송")])],1)],1)],1),r("v-dialog",{attrs:{persistent:"","max-width":"600"},model:{value:e.isUserNotValid,callback:function(t){e.isUserNotValid=t},expression:"isUserNotValid"}},[r("v-card",{attrs:{tile:""}},[r("v-card-title",{staticClass:"text-h5"},[e._v("오류")]),r("v-card-text",[e._v(" 가입된 회원이 아닙니다. 팀원 초대는 오직 가입된 회원에게만 할 수 있습니다. ")]),r("v-card-actions",[r("div",{staticClass:"flex-grow-1"}),r("v-btn",{attrs:{color:"blue darken-4",text:"",tile:""},on:{click:function(t){t.stopPropagation(),e.isUserNotValid=!e.isUserNotValid}}},[e._v("확인")])],1)],1)],1),r("v-dialog",{attrs:{persistent:"","max-width":"600"},model:{value:e.isEmailEmpty,callback:function(t){e.isEmailEmpty=t},expression:"isEmailEmpty"}},[r("v-card",{attrs:{tile:""}},[r("v-card-title",{staticClass:"text-h5"},[e._v("오류")]),r("v-card-text",[e._v(" 이메일을 입력해주세요. ")]),r("v-card-actions",[r("div",{staticClass:"flex-grow-1"}),r("v-btn",{attrs:{color:"blue darken-4",text:"",tile:""},on:{click:function(t){t.stopPropagation(),e.isEmailEmpty=!e.isEmailEmpty}}},[e._v("확인")])],1)],1)],1),r("v-dialog",{attrs:{persistent:"","max-width":"600"},model:{value:e.isSucceeded,callback:function(t){e.isSucceeded=t},expression:"isSucceeded"}},[r("v-card",{attrs:{tile:""}},[r("v-card-title",{staticClass:"text-h5"},[e._v("전송 완료")]),r("v-card-text",[e._v(" 해당 회원의 이메일로 초대 메일이 발송되었습니다. ")]),r("v-card-actions",[r("div",{staticClass:"flex-grow-1"}),r("v-btn",{attrs:{color:"blue darken-4",text:"",tile:""},on:{click:function(t){return t.stopPropagation(),e.cancel(t)}}},[e._v("확인")])],1)],1)],1)],1)},Xt=[],Yt={props:{project:{type:Object},drawer:{type:Boolean}},data:function(){return{inviteDialog:!1,memberEmail:"",isUserNotValid:!1,isEmailEmpty:!1,isSucceeded:!1,navDrawer:this.drawer,isDrawerOpened:!1}},watch:{drawer:function(e){this.navDrawer=e}},methods:{cancel:function(){this.inviteDialog=!1,this.isSucceeded=!1,this.memberEmail=""},findUser:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.memberEmail){t.next=4;break}e.isEmailEmpty=!0,t.next=17;break;case 4:return t.prev=4,t.next=7,e.$http.get("/user",{params:{email:e.memberEmail}});case 7:return r=t.sent,a=Object(Xe["a"])(localStorage.getItem("userToken")),t.next=11,e.$http.post("/mail",{email:e.memberEmail,sender:a,newMember:r.data,project:e.project});case 11:e.isSucceeded=!0,t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](4),alert(t.t0.response.data.message);case 17:case"end":return t.stop()}}),t,null,[[4,14]])})))()},updateDrawerState:function(e){e||this.$emit("update")}}},er=Yt,tr=r("ce7e"),rr=r("8270"),ar=r("34c3"),nr=r("f774"),ir=Object(d["a"])(er,Gt,Xt,!1,null,null,null),sr=ir.exports;y()(ir,{VAvatar:at["a"],VBtn:j["a"],VCard:kt["a"],VCardActions:yt["a"],VCardText:yt["b"],VCardTitle:yt["c"],VDialog:Ct["a"],VDivider:tr["a"],VIcon:Nt["a"],VList:nt["a"],VListItem:it["a"],VListItemAvatar:rr["a"],VListItemContent:st["a"],VListItemIcon:ar["a"],VListItemSubtitle:st["b"],VListItemTitle:st["c"],VNavigationDrawer:nr["a"],VTextField:Pe["a"]});var or={components:{ProjectHeader:Jt,ProjectNavDrawer:sr},data:function(){return{drawer:!1,isLoaded:!1,project:{},currentMember:""}},created:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.get("/project",{params:{id:e.$route.params.id}});case 3:r=t.sent,e.project=r.data,e.isLoaded=!0,e.$store.commit("sendProjectInfo",{currProject:e.project.project_name}),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),console.error(t.t0),e.$router.push({name:"error"});case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},mounted:function(){var e=this;this.EventBus.$on("sendMemberName",(function(t){t.memberFirstName||t.memberLastName?e.currentMember=t.memberFirstName+" "+t.memberLastName:e.currentMember=""}))},methods:{openDrawer:function(){this.drawer=!0},closeDrawer:function(){this.drawer=!1}}},lr=or,cr=Object(d["a"])(lr,qt,Ft,!1,null,null,null),ur=cr.exports;y()(cr,{VApp:C["a"],VFooter:V["a"],VMain:O["a"],VSpacer:A["a"]});var dr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{"justify-center":""}},[r("print-node",{attrs:{project:e.project}})],1)},pr=[],mr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-flex",[r("v-app-bar",{staticClass:"text-center title font-weight-light",attrs:{color:"grey darken-3",dark:""}},[r("v-tooltip",{attrs:{bottom:"",transition:"fade-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-avatar",e._g({directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"mr-4",staticStyle:{cursor:"pointer"},attrs:{color:"white",size:"40"},on:{click:function(t){return e.getMemberCrawledData("","","")}}},a),[r("span",{staticClass:"black--text text-subtitle-2"},[e._v("ALL")])])]}}])},[r("span",[e._v("모든 데이터 보기")])]),e._l(e.project.members,(function(t){return r("v-tooltip",{key:t.email,attrs:{bottom:"",transition:"fade-transition"},scopedSlots:e._u([t.verified?{key:"activator",fn:function(a){var n=a.on;return[r("span",e._g({staticClass:"font-weight-medium"},n),[r("v-avatar",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"mr-4",staticStyle:{cursor:"pointer"},attrs:{color:t.color,size:"40"},on:{click:function(r){return e.getMemberCrawledData(t.email,t.first_name,t.last_name)}}},[r("span",{staticClass:"white--text text-subtitle-2"},[e._v(e._s(t.last_name.charAt(0)))])])],1)]}}:null],null,!0)},[t.verified?r("span",[e._v(e._s(t.first_name+" "+t.last_name))]):e._e(),r("br"),r("span",[e._v(e._s(t.email))])])})),r("v-spacer"),e._l(e.nodeFunctions,(function(t){return r("v-tooltip",{key:t.name,attrs:{bottom:"",transition:"fade-transition"},scopedSlots:e._u([{key:"activator",fn:function(a){var n=a.on;return[r("v-avatar",e._g({directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"mr-4",staticStyle:{cursor:"pointer"},attrs:{disabled:e.isCrawlingStarted,color:e.isCrawlingStarted||""!==e.currMember===""?"grey darken-1":"blue darken-3",size:"40"},on:{click:t.func}},n),[r("v-icon",[e._v(e._s(t.icon))])],1)]}}],null,!0)},[r("span",[e._v(e._s(t.name))])])})),""===e.currMember?r("v-tooltip",{attrs:{bottom:"",transition:"fade-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-avatar",e._g({directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"mr-4",staticStyle:{cursor:"pointer"},attrs:{disabled:e.isCrawlingStarted,color:"error",size:"40"},on:{click:e.truncate}},a),[r("v-icon",[e._v("mdi-delete-forever")])],1)]}}],null,!1,2689645394)},[r("span",[e._v("전체 데이터 초기화")])]):r("v-tooltip",{attrs:{bottom:"",transition:"fade-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-avatar",e._g({directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"mr-4",staticStyle:{cursor:"pointer"},attrs:{disabled:e.isCrawlingStarted,color:"error",size:"40"},on:{click:e.truncate}},a),[r("v-icon",[e._v("mdi-account-remove")])],1)]}}])},[r("span",[e._v("사용자 데이터 초기화")])]),e.isCrawlingStarted?r("v-tooltip",{attrs:{bottom:"",transition:"fade-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-avatar",e._g({directives:[{name:"ripple",rawName:"v-ripple"}],staticStyle:{cursor:"pointer"},attrs:{color:"warning",size:"40"},on:{click:e.stopCrawling}},a),[r("v-icon",[e._v("mdi-pause")])],1)]}}])},[r("span",[e._v("크롤링 중지")])]):r("v-tooltip",{attrs:{bottom:"",transition:"fade-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-avatar",e._g({directives:[{name:"ripple",rawName:"v-ripple"}],staticStyle:{cursor:"pointer"},attrs:{disabled:""!==e.currMember,color:""!==e.currMember?"grey darken-1":"success",size:"40"},on:{click:e.startCrawling}},a),[r("v-icon",[e._v("mdi-play")])],1)]}}],null,!1,3966908082)},[r("span",[e._v("크롤링 시작")])]),r("v-progress-linear",{attrs:{active:e.loading,indeterminate:e.loading,absolute:"",bottom:"",color:"blue darken-3"}})],2),r("v-layout",{staticClass:"d3-canvas"},[r("d3-network",{attrs:{"net-nodes":e.nodes,"net-links":e.links,options:e.options},on:{"node-click":e.nodeClick,"link-click":e.linkClick}})],1),r("div",{staticClass:"popup"},[r("node-detail-sheet",{attrs:{pinnedNode:e.pinnedNode,project:e.project,sheet:e.sheet},on:{update:function(t){e.sheet=!e.sheet}}})],1)],1)},vr=[],fr=(r("4de4"),r("4160"),r("a15b"),r("fb6a"),r("b0c0"),r("b64b"),r("ac1f"),r("3ca3"),r("1276"),r("159b"),r("ddb0"),r("2b3d"),r("a5b7")),hr=r.n(fr),gr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-bottom-sheet",{attrs:{inset:""},model:{value:e.isSheetOpened,callback:function(t){e.isSheetOpened=t},expression:"isSheetOpened"}},[r("v-sheet",{staticClass:"pa-6",attrs:{tile:"",color:"blue darken-4"}},[r("div",{staticClass:"text-h4 white--text"},[e._v(e._s(e.pinnedNode.name.host))]),r("div",{staticClass:"text-h5 grey--text text--lighten-1"},[e._v(" "+e._s(e.pinnedNode.name.rest)+" ")])]),r("v-sheet",{staticClass:"pa-6",attrs:{tile:"",color:"blue darken-3"}},[r("div",{staticClass:"text-h6 font-weight-light grey--text text--lighten-2"},[e._v(" "+e._s(e.pinnedNode.url)+" ")])]),r("v-sheet",{staticClass:"pa-6",attrs:{tile:"",color:"blue lighten-2"}},[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"3"}},[r("v-sheet",{staticClass:"text-h5",attrs:{tile:"",color:"blue lighten-2"}},[r("span",{staticClass:"font-weight-light"},[e._v("노드 ID:")]),r("span",{staticClass:"font-weight-medium ml-2"},[e._v(e._s(e.pinnedNode.id))])])],1),r("v-col",{attrs:{cols:"3"}},[r("v-sheet",{staticClass:"text-h5",attrs:{tile:"",color:"blue lighten-2"}},[r("span",{staticClass:"font-weight-light"},[e._v("노드 레벨:")]),r("span",{staticClass:"font-weight-medium ml-2"},[e._v(e._s(e.pinnedNode.level))])])],1),r("v-col",{attrs:{cols:"6"}},[e.pinnedNode.tagged?r("v-sheet",{staticClass:"text-h5",attrs:{tile:"",color:"blue lighten-2"}},[r("span",{staticClass:"font-weight-light"},[e._v("태그 표시 여부:")]),"True"===e.pinnedNode.tagged[0]?r("span",{staticClass:"font-weight-bold ml-2 green--text text--darken-2"},[e._v("TRUE")]):r("span",{staticClass:"font-weight-bold ml-2 red--text text--darken-3"},[e._v("FALSE")])]):e._e()],1)],1)],1),1!==e.pinnedNode.id?r("v-sheet",{staticClass:"pa-6",attrs:{tile:""}},[r("div",{staticClass:"text-h5 font-weight-medium"},[e.pinnedNode.level>1?r("span",[e._v(e._s(e.pinnedNode.keyword.main))]):r("span",[e._v("연관 검색어")])]),r("div",{staticClass:"text-h6 font-weight-light"},[e.pinnedNode.level>1?r("div",{staticClass:"ma-0"},e._l(e.pinnedNode.keyword.sub,(function(t,a){return r("span",{key:a},[e._v(e._s(t)),a!==e.pinnedNode.keyword.sub.length-1?r("span",[e._v(", ")]):e._e()])})),0):r("div",{staticClass:"ma-0"},e._l(e.pinnedNode.relativeKeywordList,(function(t,a){return r("span",{key:a},[e._v(e._s(t)),a!==e.pinnedNode.relativeKeywordList.length-1?r("span",[e._v(", ")]):e._e()])})),0)])]):e._e(),e.pinnedNode.level>1?r("v-sheet",{staticClass:"pa-6",attrs:{tile:"",dark:"",color:"grey darken-2"}},e._l(e.pinnedNode.pageContents,(function(t,a){return r("div",{key:a,staticClass:"text-subtitle-2 font-weight-light"},[e._v(" "+e._s(t.length>50?t.substr(0,49).concat("..."):t)),r("br")])})),0):e._e(),""!==e.pinnedNode.memo?r("v-sheet",{staticClass:"pa-6",attrs:{tile:"",dark:"",color:"grey darken-3"}},[r("span",{staticClass:"text-h5 font-weight-medium"},[e._v("MEMO")]),r("br"),r("span",{staticClass:"text-h6 font-weight-light"},[e._v(e._s(e.pinnedNode.memo))])]):e._e()],1)},br=[],xr={name:"node-detail-sheet",props:{pinnedNode:{type:Object},project:{type:Object},sheet:{type:Boolean}},data:function(){return{isSheetOpened:this.sheet}},watch:{sheet:function(e){this.isSheetOpened=e},isSheetOpened:function(e){e||this.$emit("update")}}},_r=xr,wr=r("288c"),kr=r("8dd9"),yr=Object(d["a"])(_r,gr,br,!1,null,null,null),Cr=yr.exports;y()(yr,{VBottomSheet:wr["a"],VCol:N["a"],VRow:R["a"],VSheet:kr["a"]});var jr={methods:{getNodeName:function(e,t){var r,a=decodeURI(t),n=[],i=[],s=Object(xt["a"])(e);try{for(s.s();!(r=s.n()).done;){var o=r.value;n.push(decodeURI(o))}}catch(l){s.e(l)}finally{s.f()}return a.length>50?(i.push(n[0]),n.length>1&&(i.push("/..."),i.join("").length<=50&&i.push(n[n.length-1]))):i.push(a),i.join("")}}},Nr={data:function(){return{nodes:[],links:[],nodeSize:30,fontSize:20,linkWidth:5,canvasWidth:window.innerWidth,canvasHeight:window.innerHeight-192,nodeIndex:0}},methods:{nodeClick:function(e,t){var r;0!==t.id&&(r=window.event?!!window.event.shiftKey:!!e.shiftKey,r?1!==t.id&&this.getRelevantNodes(t):(t.fx=t.x,t.fy=t.y,this.savePinnedNode(t),this.sheet=!this.sheet))},linkClick:function(e,t){console.log("selected: "+t.sid+" -> "+t.tid)}}},Sr=(r("c740"),r("a434"),{data:function(){return{nodeFunctions:[{name:"파생 키워드 및 노드를 표시하려면 Shift 키를 누른 상태에서 노드를 클릭해주세요.",icon:"mdi-link-variant",func:function(){}},{name:"태그 표시된 노드 표시",icon:"mdi-tag-multiple",func:this.getTaggedNodes},{name:"다수 / 소수 구별",icon:"mdi-account-multiple-outline",func:this.distinguishNodes},{name:"최적 경로 표시",icon:"mdi-map-marker-path",func:this.getOptimizedNodes}]}},methods:{getMemberCrawledData:function(e,t,r){var a=this;return Object(h["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!a.isCrawlingStarted){n.next=2;break}return n.abrupt("return");case 2:return a.EventBus.$emit("sendMemberName",{memberFirstName:t,memberLastName:r}),a.currMember=e,a.resetNodes(),n.prev=5,n.next=8,a.$http.get("/data",{params:{name:a.project.project_name,memberEmail:e}});case 8:i=n.sent,a.totalData=i.data,a.totalData.length>0&&a.initializeNodes(),n.next=16;break;case 13:n.prev=13,n.t0=n["catch"](5),console.error(n.t0);case 16:case"end":return n.stop()}}),n,null,[[5,13]])})))()},getTaggedNodes:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""===e.currMember){t.next=3;break}return alert("사용자 데이터에서는 확인할 수 없습니다."),t.abrupt("return");case 3:return e.resetNodes(),t.prev=4,t.next=7,e.$http.get("/data",{params:{name:e.project.project_name}});case 7:r=t.sent,e.totalData=r.data,e.totalData.length>0&&e.initializeNodes(),a=[],n=!1,e.nodes.forEach((function(t){if(t.tagged)if("True"!==t.tagged[0]){var r,i=e.links.filter((function(e){return e.sid===t.id})),s=e.links.find((function(e){return e.tid===t.id}));console.log(i),console.log(s),i.forEach((function(t){var a=t.tid;r=e.links.findIndex((function(e){return e.sid===t.sid&&e.tid===t.tid})),e.links.splice(r,1),e.links.push({sid:s.sid,tid:a})})),r=e.links.findIndex((function(e){return e.sid===s.sid&&e.tid===s.tid})),e.links.splice(r,1),a.push(t.name)}else n=!0})),a.forEach((function(t){var r=e.nodes.findIndex((function(e){return e.name===t}));e.nodes.splice(r,1)})),n||alert("태그 표시된 웹 페이지가 없습니다."),t.next=20;break;case 17:t.prev=17,t.t0=t["catch"](4),console.error(t.t0);case 20:case"end":return t.stop()}}),t,null,[[4,17]])})))()},getRelevantNodes:function(e){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.$http.get("/data/origin",{params:{name:t.project.project_name,founder:e.founder,currURL:e.currURL}});case 3:a=r.sent,a.data.forEach((function(e){var r=t.nodes.findIndex((function(t){return t.currURL===e.currUrl&&t.founder===e.founder}));console.log(-1!==r),t.nodes[r]._color="yellow",1===t.nodes[r].level&&(t.nodes[r]._labelClass="derived")})),t.nodes[0]._color="yellow",r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](0),console.error(r.t0);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})))()},distinguishNodes:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""===e.currMember){t.next=3;break}return alert("사용자 데이터에서는 확인할 수 없습니다."),t.abrupt("return");case 3:return e.resetNodes(),t.prev=4,t.next=7,e.$http.get("/data",{params:{name:e.project.project_name}});case 7:r=t.sent,e.totalData=r.data,e.totalData.length>0&&e.initializeNodes(),e.nodes.forEach((function(t){var r=e.links.findIndex((function(e){return e.tid===t.id}));-1!==r&&(t.visitRate>=e.visitRateThreshold?e.links[r]._color="#0e01c466":e.links[r]._color="#c4010133")})),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](4),console.error(t.t0);case 16:case"end":return t.stop()}}),t,null,[[4,13]])})))()},getOptimizedNodes:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var r,a,n,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""===e.currMember){t.next=3;break}return alert("사용자 데이터에서는 확인할 수 없습니다."),t.abrupt("return");case 3:return t.prev=3,t.next=6,e.$http.get("/data/recommendation",{params:{name:e.project.project_name}});case 6:r=t.sent,e.nodes.forEach((function(e){e._color="WhiteSmoke"})),r.data.forEach((function(t){e.optimizedNodes.push(t)})),a=[],n=function(t){var r=e.nodes[t],n=e.optimizedNodes.find((function(e){return e.curr_url===r.currURL&&e.founder===r.founder}));if(n)return e.nodes[t]._color="yellow","continue";var i,s=e.links.filter((function(e){return e.sid===r.id})),o=e.links.find((function(e){return e.tid===r.id}));s&&s.forEach((function(t){console.log(t.source.name+" -X- "+t.target.name);var r=t.tid;i=e.links.findIndex((function(e){return e.sid===t.sid&&e.tid===t.tid})),e.links.splice(i,1),o&&e.links.push({sid:o.sid,tid:r})})),i=e.links.findIndex((function(e){return e.sid===o.sid&&e.tid===o.tid})),e.links.splice(i,1),a.push(e.nodes[t].id)},i=1;case 12:if(!(i<e.nodes.length)){t.next=19;break}if(s=n(i),"continue"!==s){t.next=16;break}return t.abrupt("continue",16);case 16:i++,t.next=12;break;case 19:a.forEach((function(t){var r=e.nodes.findIndex((function(e){return e.id===t}));e.nodes.splice(r,1)})),e.nodes[0]._color="yellow",t.next=26;break;case 23:t.prev=23,t.t0=t["catch"](3),console.error(t.t0);case 26:case"end":return t.stop()}}),t,null,[[3,23]])})))()}}}),Vr="google",Or={mixins:[jr,Nr,Sr],components:{D3Network:hr.a,NodeDetailSheet:Cr},props:{project:{type:Object}},data:function(){return{decoded:"",prevURL:"",currURL:"",prevQuery:"",sheet:!1,loading:!1,totalData:[],crawledData:{},isCrawlingStarted:!1,currMember:"",visitRateThreshold:.5,optimizedNodes:[],message:{level0:"Google 검색 결과 페이지를 거치지 않고 접속한 페이지들이 하위 노드로 생성됩니다."},pinnedNode:{id:0,name:{host:"",rest:[]},level:0,paths:[],url:"",keyword:{main:"",sub:[]},tagged:"",memo:"",visitRate:0,relativeKeywordList:[],pageContents:[]}}},computed:{options:function(){return{force:4e3,size:{w:800,h:800},nodeSize:this.nodeSize,fontSize:this.fontSize,linkWidth:this.linkWidth,nodeLabels:!0,linkLabels:!0,canvas:!1}}},watch:{sheet:function(e){var t=this;if(!e){var r=this.nodes.find((function(e){return e.id===t.pinnedNode.id}));this.nodes[r.id].fx=null,this.nodes[r.id].fy=null}}},created:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.decoded=Object(Xe["a"])(localStorage.getItem("userToken")),e.loading=!0,e.addZeroNode(),e.addInitialNodesAndLinks("","etc."),t.prev=4,t.next=7,e.$http.get("/data",{params:{name:e.project.project_name}});case 7:r=t.sent,e.totalData=r.data,e.totalData.length>0&&(e.initializeNodes(),e.loading=!1),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](4),console.error(t.t0);case 15:case"end":return t.stop()}}),t,null,[[4,12]])})))()},mounted:function(){var e=this;this.options.size.w=this.canvasWidth,this.options.size.h=this.canvasHeight,window.addEventListener("message",(function(t){t.source==window&&t.data.type&&"getCrawledData"===t.data.type&&e.isCrawlingStarted&&(console.log("Received prevURL: "+t.data.prevURL),console.log("Received currURL: "+t.data.currURL),e.getCrawledData(t.data.prevURL,t.data.currURL))}),!1)},methods:{startCrawling:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isCrawlingStarted=!0,e.resetNodes(),t.prev=2,t.next=5,e.$http.get("/data",{params:{name:e.project.project_name,memberEmail:e.decoded.email}});case 5:r=t.sent,e.totalData=r.data,e.totalData.length>0&&e.initializeNodes(),window.open("https://www.google.com"),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](2),console.error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,11]])})))()},stopCrawling:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isCrawlingStarted=!1,e.loading=!0,t.prev=2,t.next=5,e.$http.get("/data/stop",{params:{name:e.project.project_name}});case 5:r=t.sent,e.totalData=r.data,e.totalData.length>0&&(e.resetNodes(),e.initializeNodes(),e.loading=!1),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](2),console.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[2,10]])})))()},getCrawledData:function(e,t){var r=this;return Object(h["a"])(regeneratorRuntime.mark((function a(){var n,i,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r.prevURL=e,r.currURL=t,n=r.nodes.filter((function(e){return""===r.prevURL?"etc."===e.name.split(" ")[1]:e.currURL===r.prevURL})),console.log(n),n.length>1?i=n.find((function(e){return e.founder===r.decoded.email})):1===n.length&&(i=n[0]),s=i?i.level:1,a.prev=6,a.next=9,r.$http.post("/data/node",{projectName:r.project.project_name,userEmail:r.decoded.email,userName:r.decoded.first_name+" "+r.decoded.last_name,prevURL:r.prevURL,currURL:r.currURL,parentLevel:s});case 9:o=a.sent,console.log(o),o.data.notUrl?o.data.isMainPage?(r.crawledData.level=o.data.level,r.crawledData.paths=o.data.paths):console.log("올바른 URL이 아닙니다."):(r.crawledData=o.data,r.crawledData.paths&&r.addNodesfromCrawledData(r.crawledData)),a.next=17;break;case 14:a.prev=14,a.t0=a["catch"](6),console.error(a.t0);case 17:case"end":return a.stop()}}),a,null,[[6,14]])})))()},truncate:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!confirm("모든 노드를 삭제하시겠습니까?")){t.next=28;break}return t.prev=1,t.next=4,e.$http.delete("/data/clear/".concat(e.project.project_name,"_after_data"));case 4:r=Object(xt["a"])(e.project.members),t.prev=5,r.s();case 7:if((a=r.n()).done){t.next=13;break}return n=a.value,t.next=11,e.$http.delete("/data/clear/".concat(e.project.project_name,"_").concat(n.email));case 11:t.next=7;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](5),r.e(t.t0);case 18:return t.prev=18,r.f(),t.finish(18);case 21:e.resetNodes(),alert("모든 노드를 삭제했습니다."),t.next=28;break;case 25:t.prev=25,t.t1=t["catch"](1),console.error(t.t1);case 28:case"end":return t.stop()}}),t,null,[[1,25],[5,15,18,21]])})))()},resetNodes:function(){this.nodes=[],this.links=[],this.nodeIndex=0,this.prevURL="",this.prevQuery="",this.addZeroNode(),this.addInitialNodesAndLinks("","etc.")},initializeNodes:function(){var e=this;this.totalData.forEach((function(t){e.addNodesfromCrawledData(t)}))},addNodesfromCrawledData:function(e){var t="";-1!==e.paths[0].indexOf("www."+Vr)?e.paths.length>1?(t=e.paths[1],this.prevQuery=t,this.addInitialNodesAndLinks(e,t)):this.prevQuery="":(-1!==this.prevURL.indexOf("www."+Vr)?t=this.prevQuery:(this.prevQuery="",t="etc."),this.addInitialNodesAndLinks(e,t),this.addNodesAndLinks(e))},addZeroNode:function(){this.nodes.push({id:this.nodeIndex++,name:this.project.topic,_color:"#0D47A1",level:0,fx:this.canvasWidth/2,fy:this.canvasHeight/2}),this.nodes[0].pinned=!0},addInitialNodesAndLinks:function(e,t){var r=!1;""===t?r=!0:this.nodes.forEach((function(e){1===e.level&&e.name==="[1] ".concat(t)&&(r=!0)})),r||(this.nodes.push({id:this.nodeIndex++,name:"[1] ".concat(t),_color:"#64B5F6",level:1,founder:e.user_email,currURL:"etc."!==t?e.curr_url:t,paths:"etc."!==t?e.paths:null,keyword:"etc."!==t?e.keyword:"",subKeyword:"etc."!==t?e.sub_keyword:"",tagged:"etc."!==t?e.tagged:"",memo:"etc."!==t?e.memo:"",visitRate:e.visit_rate?e.visit_rate:0,relativeKeywordList:e.relativeKeywordList?e.relativeKeywordList:[],pageContents:[]}),console.log("Node created (idx, lv, name): "+(this.nodeIndex-1)+", 1, "+decodeURI(t)),this.links.push({sid:0,tid:this.nodeIndex-1,_svgAttrs:{"stroke-width":10,opacity:1}}),console.log("Link created : 0 -> "+(this.nodeIndex-1)))},addNodesAndLinks:function(e){var t,r=e.paths.join(""),a=e.prev_url,n=-1,i=this.nodes.find((function(t){return t.currURL===e.curr_url}));if(-1!==a.indexOf("www."+Vr)&&-1!==a.indexOf("/search?")){var s=new URL(a).searchParams.get("q");t=this.nodes.find((function(e){return e.paths?e.paths[1]===s:void 0}))}else{var o=this.nodes.filter((function(e){return e.currURL===a}));o.length>1?t=o.find((function(t){return t.founder===e.user_email})):1===o.length&&(t=o[0])}if(i){var l=this.links.find((function(e){return e.tid===i.id}));l.sid===t.id&&(n=l.tid)}if(-1===n){this.nodes.push({id:this.nodeIndex++,name:"[".concat(e.level,"] ").concat(this.getNodeName(e.paths,r)),level:e.level,founder:e.user_email,prevURL:e.prev_url,currURL:e.curr_url,paths:e.paths,keyword:e.keyword,subKeyword:e.sub_keyword,tagged:e.tagged,memo:e.memo,visitRate:e.visit_rate?e.visit_rate:0,relativeKeywordList:{},pageContents:e.pageContents?e.pageContents:[]}),console.log("Node created (idx, lv, name): "+(this.nodeIndex-1)+", "+e.level+", "+decodeURI(r));var c=t.id,u=this.nodeIndex-1;this.links.push({sid:c,tid:u}),console.log("Link created : "+c+" -> "+u)}},savePinnedNode:function(e){var t={id:e.id,name:{host:e.level>1?decodeURI(e.paths[0]):e.name.slice(e.name.indexOf(" ")+1),rest:e.level>1?decodeURI(e.paths.slice(1).join("")):""},level:e.level,paths:e.paths,url:"etc."!==e.currURL?decodeURI(e.currURL):this.message.level0,keyword:{main:e.keyword,sub:e.subKeyword},tagged:e.tagged,memo:e.memo,visitRate:e.visitRate,relativeKeywordList:Object.keys(e.relativeKeywordList),pageContents:e.level>1?e.pageContents:[]};this.pinnedNode=t}}},Rr=Or,$r=(r("5046"),r("8e36")),Lr=r("3a2f"),Er=Object(d["a"])(Rr,mr,vr,!1,null,null,null),Dr=Er.exports;y()(Er,{VAppBar:U["a"],VAvatar:at["a"],VFlex:De["a"],VIcon:Nt["a"],VLayout:Te["a"],VProgressLinear:$r["a"],VSpacer:A["a"],VTooltip:Lr["a"]}),ct()(Er,{Ripple:ut["a"]});var Ir={components:{PrintNode:Dr},props:{project:{type:Object}}},Tr=Ir,Pr=Object(d["a"])(Tr,dr,pr,!1,null,null,null),Ur=Pr.exports;y()(Pr,{VLayout:Te["a"]});var Ar=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div")},Mr=[],zr={mounted:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=localStorage.getItem("userToken"),!r){t.next=15;break}return t.prev=2,t.next=5,e.$http.get("/project/auth",{params:{project:e.$route.query.project,member:e.$route.query.member,token:e.$route.query.token,userEmail:Object(Xe["a"])(r).email}});case 5:alert("프로젝트 팀원 등록이 완료되었습니다."),e.$router.push({name:"user"}),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](2),alert(t.t0.response.data.message),e.$router.push({name:"index"});case 13:t.next=17;break;case 15:alert("로그인이 필요합니다. 로그인 후에 다시 링크를 클릭해주세요."),e.$router.push({name:"login"});case 17:case"end":return t.stop()}}),t,null,[[2,9]])})))()}},qr=zr,Fr=Object(d["a"])(qr,Ar,Mr,!1,null,null,null),Br=Fr.exports;a["a"].use(f["a"]);var Kr=[{path:"/",component:W,beforeEnter:x,children:[{path:"",name:"index",component:X},{path:"/about",name:"about",component:ae},{path:"/features",name:"features",component:le},{path:"/pricing",name:"pricing",component:me},{path:"/help",name:"help",component:be}]},{path:"/",component:Oe,beforeEnter:x,children:[{path:"/login",name:"login",component:Ae},{path:"/register",name:"register",component:Ze}]},{path:"/project/:id",component:ur,beforeEnter:b,children:[{path:"",name:"project",component:Ur}]},{path:"/p",component:ht,beforeEnter:b,children:[{path:"",name:"user",component:Ot},{path:"/p/create-project",name:"create-project",component:zt},{path:"/need-extension",name:"need-extension",component:It}]},{path:"/auth",component:Br},{path:"*",redirect:"/error"},{path:"/error",name:"error",component:E}],Hr=new f["a"]({mode:"history",base:"/",routes:Kr}),Wr=Hr,Qr=r("2f62");a["a"].use(Qr["a"]);var Zr=new Qr["a"].Store({state:{token:localStorage.getItem("userToken")},getters:{},mutations:{getToken:function(e){e.token=localStorage.getItem("userToken")},deleteToken:function(e){localStorage.removeItem("userToken"),e.token=null;var t=localStorage.getItem("extensionId");chrome.runtime.sendMessage(t,{userToken:"logout"},(function(e){console.log(e.result)}))},sendProjectInfo:function(e,t){var r=t.currProject,a=localStorage.getItem("extensionId");chrome.runtime.sendMessage(a,{currProject:r},(function(e){console.log(e.result)}))}},actions:{}}),Jr=r("f309");a["a"].use(Jr["a"]);var Gr=new Jr["a"]({icons:{iconfont:"mdi"}});a["a"].config.productionTip=!1,a["a"].prototype.EventBus=new a["a"],new a["a"]({router:Wr,store:Zr,vuetify:Gr,render:function(e){return e(v)}}).$mount("#app")}});
//# sourceMappingURL=app.01baeb0e.js.map